---
import Main from "../layouts/main.astro";
// import CollegeSelect from '../components/get_started/college_selection/collegeSelect.svelte'
import CollegeSelect from "../components/get_started/college_selection/collegeSelect.astro";
import colleges from "../data/collegelist.json";
---

<Main title="Get Started">
    <div
        class="dark:text-white dark:bg-[#181818] flex flex-col min-h-screen h-screen max-h-max"
    >
        <!-- Header -->
        <div class="w-full flex justify-center items-center pt-12">
            <div class="w-11/12 2xl:w-4/6 flex items-center gap-4">
                <svg
                    class="w-5 dark:fill-white fill-black"
                    width="1.25rem"
                    height="1.25rem"
                    xmlns="http://www.w3.org/2000/svg"
                    data-v-91817bbc=""
                    width="16"
                    height="16"
                    viewBox="0 0 16 16"
                    ><path
                        data-v-91817bbc=""
                        clip-rule="evenodd"
                        d="M3 7.95711L10.9571 15.9142L12.3713 14.5L5.82843 7.95711L12.3713 1.41421L10.9571 0L3 7.95711Z"
                    ></path></svg
                >
                <!-- progrress-bar -->
                <div
                    class="bg-gray-200 dark:bg-neutral-700 w-full h-1 flex rounded-lg"
                    id="progress-container"
                >
                    <!-- progrress-bar-completed -->
                    <span
                        class="transition-all bg-green-600 dark:bg-green-500"
                        id="progress-completed"
                        style="width:0px"></span>
                </div>

                <svg
                    class="w-5 dark:fill-white fill-black rotate-180"
                    width="1.25rem"
                    height="1.25rem"
                    xmlns="http://www.w3.org/2000/svg"
                    data-v-91817bbc=""
                    width="16"
                    height="16"
                    viewBox="0 0 16 16"
                    ><path
                        data-v-91817bbc=""
                        clip-rule="evenodd"
                        d="M3 7.95711L10.9571 15.9142L12.3713 14.5L5.82843 7.95711L12.3713 1.41421L10.9571 0L3 7.95711Z"
                    ></path></svg
                >
            </div>
        </div>
        <button
            class="opacity-0 transition-opacity dark:border dark:border-[#295157] absolute bottom-[105%] bg-gradient-to-tr from-[#355c6342] from-18% to-[#27b0eba8] py-2 px-5 right-10 rounded-md text-lg"
            id="next_button">Next</button
        >
        <!-- Mover Element -->
        <div class="h-full max-h-max overflow-x-hidden">
            <div class="flex h-full" id="mover-element">
                <CollegeSelect colleges={colleges} />
            </div>
        </div>
    </div>
</Main>

<script>
    let progBar: HTMLSpanElement | null = document.querySelector(
        "#progress-completed"
    );
    let progCon: HTMLDivElement | null = document.querySelector(
        "#progress-container"
    );
    let moverElem: HTMLDivElement | null =
        document.querySelector("#mover-element");

    if (moverElem && progCon && progBar) {
        moverElem.style.width = moverElem.children.length * 100 + "%";
        moverElem.addEventListener("click", (e) => {
            console.log(e);
        });
    }
    let nextButton: HTMLDivElement | null =
        document.querySelector("#next_button");
    nextButton?.addEventListener("mousedown", (event) => {
        event.preventDefault();
        if (!nextButton) return;
        nextButton.style.opacity = "0";
    });
</script>